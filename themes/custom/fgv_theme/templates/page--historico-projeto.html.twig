{#
PÁGINA HISTÓRICO DO PROJETO
#}
{# <script src="https://code.jquery.com/jquery-3.6.1.slim.js" integrity="sha256-tXm+sa1uzsbFnbXt8GJqsgi2Tw+m4BLGDof6eUPjbtk=" crossorigin="anonymous"></script> #}
{{page.navigation}}
<div class="py-5" style="	background-image: url(&quot;{{ base_path ~ directory }}/images/bg1.png&quot;);	background-position: top left;	background-size: cover;	background-repeat: no-repeat;">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h1 class="text-white">Histórico do Projeto</h1>
        </div>
      </div>
    </div>
  </div>
  <div class="d-none">
    {{page.navigation_collapsible}}
  </div>
  <nav class="navbar navbar-expand navbar-dark sticky-top bg-light py-0 px-0 shadow-sm mb-0" id="sticky-menu">
    <div class="container d-flex justify-content-center">
      <div id="nav-internal-menu">
        <ul class="navbar-nav">
          {# <li class="nav-item"> <a class="nav-link" href="#2019">2019</a> </li>
          <li class="nav-item"> <a class="nav-link" href="#2020">2020</a> </li>
          <li class="nav-item"> <a class="nav-link" href="#2021">2021</a> </li>
          <li class="nav-item"> <a class="nav-link" href="#2022">2022</a> </li> #}
        </ul>
      </div>
    </div>
  </nav>

{{page.content}}
{{page.footer}}

<script>

setTimeout(() => {
// montar a navbar
$('.menu.menu--linha-do-tempo.nav.navbar-nav > li > a').each(function () {
  $('#nav-internal-menu > ul').append('<li class="nav-item"> <a class="nav-link" href=#' + $(this).html() + '> ' + $(this).html() + ' </a></li>')
})
// alinhamento - limita a OL onde fica todo o conteudo da pagina
$('.views-bootstrap-list-group.views-view-list-group.container').addClass('maxWDesktop40')
}, 500);


// ano
$('.views-field.views-field-field-ano-projeto > .field-content > span').addClass('text-black text-center mt-5')
$('.views-field.views-field-field-ano-projeto > .field-content > span').css('font-size','2.8rem')
$('.views-field.views-field-field-ano-projeto > .field-content > span').css('font-weight','700')
$('.views-field.views-field-field-ano-projeto > .field-content').addClass('d-flex justify-content-center')

// imagens
$('.field.field--name-field-media-image.field--type-image.field--label-visually_hidden > .field__item').addClass('d-flex justify-content-center')
$('.field.field--name-field-media-image.field--type-image.field--label-visually_hidden > .field__item > img').css('width', '100%')

// titulo
$('.field.field--name-field-titulo-mes.field--type-text.field--label-visually_hidden > .field__item').addClass('text-dark mt-3')
$('.field.field--name-field-titulo-mes.field--type-text.field--label-visually_hidden > .field__item').css('font-size','1.6rem')
$('.field.field--name-field-titulo-mes.field--type-text.field--label-visually_hidden > .field__item').css('font-weight','700')
$('.field.field--name-field-titulo-mes.field--type-text.field--label-visually_hidden > .field__item').css('margin-bottom','0.75rem')

// corpo
$('.field.field--name-field-descricao-mes.field--type-text-long.field--label-visually_hidden').css('margin-bottom','1rem')

setTimeout(() => {
// adiciona classe actv nos itens clicados na navbar
  $('#sticky-menu > .container > #nav-internal-menu > .navbar-nav > .nav-item > a').click(function(){
    $('#sticky-menu > .container > #nav-internal-menu > .navbar-nav > .nav-item > a').each(function (){
      if($(this).hasClass('active')){
        $(this).removeClass('active')
      }
    })
    $(this).addClass('active')
  })
}, 500);


setTimeout(() => {
// smooth-scroll.js 1.0.0
(function() {

  var duration = 500
  $('a[href*="#"]:not([href="#"]):not([href="#carousel"])')
  .click(function()
   {
      // On-page links
      if (
        location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '')
        &&
        location.hostname == this.hostname
      ) {
        // Figure out element to scroll to
        var target = $(this.hash);
        target = target.length ? target : $('[name=' + this.hash.slice(1) + ']')
        // Does a scroll target exist?
        if (target.length) {
          // Only prevent default if animation is actually gonna happen
          event.preventDefault()

          $('html, body').animate({
            scrollTop: target.offset().top
          },
          duration, function() {
            // Callback after animation
            // Must change focus!
            var $target = $(target);
            $target.focus();
            if ($target.is(":focus")) { // Checking if the target was focused
              return false;
            } else {
              $target.attr('tabindex','-1'); // Adding tabindex for elements not focusable
              $target.focus(); // Set focus again
            };
          });
        }
      }

    });

})();
}, 1000);

// faz com que a div nao suma atras da barra
  $('.view-historico-do-projeto.view-id-historico_do_projeto > .view-content > ul > li > .views-field-field-ano-projeto > div > span').each(function () {
    $(this).parent().parent().parent().before('<div id="'+$(this).attr('id')+'" style="	min-height: 50px;"></div>');
  })

// Your responsive logic
var myResize = function(){
    var width = $(window).width();
    if (width < 720) {
       $("#flip").hide();
    }else{
       $(".lead").hide();
       $("#flip").show();
    }
};
// Execute it every resize
$(window).resize(myResize);
$(myResize); // Execute it on ready as well
// Keep the click event handlers outside so they get defined once
$("#flip").click(function(){
    var width = $(window).width();
    if (width > 720) {
        $('.views-bootstrap-list-group.views-view-list-group.container').css('max-width', '40%')
    }
});






</script>
